<!DOCTYPE html>
<html lang="nb-NO" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" charset="utf-8" />
    <title>airbit LED Blinking &ndash; air:bit Wiki</title>

    <!-- Boots -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk="
        crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js'></script>
    <!-- Leaflet -->
    <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <!-- d3 -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-93186535-1', 'auto');
        ga('send', 'pageview');</script>
    <link rel="stylesheet" href="/public/css/style.css" />
    <script src="/public/js/vis.js"></script>
</head>
<body>
    <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
        <button class="navbar-toggler navbar-toggler-right custom-toggler" type="button" data-toggle="collapse" data-target="#navbar"
            aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/">air:bit</a>
        <div class="collapse navbar-collapse" id="navbar">
            <ul class="navbar-nav mr-auto"></ul>
            <ul class="navbar-nav my-2 my-lg-0">
                <li class="nav-item">
                    <!-- <a class="nav-link" target="_blank" href="https://luft-184208.appspot.com/">Last opp data<span class="sr-only">(current)</span></a> -->
                    <a class="nav-link" href="/lastopp">Last opp data</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/historikk">Søk i tid</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="live">Live</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="main">
        <div class="container container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-9 col-sm-pull-3">
                    <div class="markdown">
                        <h1>airbit LED Blinking</h1>
                        <hr/>
                        <p>De enkleste komponentene på air:bit er LED lyspærene. Så for å starte med skal<br/>vi prøve å få dem til å blinke. Du kan senere bruke LED til å vise status på<br/>f.eks. GPS signalet eller blinke mens du tar målinger, osv. Det kan være en<br/>enkel måte å skjekke om alt er ok mens du går rundt og tar målinger. Husk at<br/>air:bit ikke har noen skjerm, og du vil neppe alltids ha med datamaskinen din<br/>for å kunne snakke direkte med Arduinoen.</p>
<h2 id="komme-i-gang">Komme i gang</h2>
<p>Vi starter med en helt fersk ny Sketch. Først er det greit å bare begynne med<br/>å legge til de <em>tomme</em> funksjonene for <code>setup</code> og <code>loop</code> som vi allerede har<br/>sett på tidligere.</p>
<pre><code class="lang-cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{

}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{

}
</code></pre>
<p>Så må vi ta en titt på pinout skjemaet og finne hvilke pinner vi skal bruke for<br/>LED pærene. <a href="airbit-Pinout.html">Klikk her for å se <strong>Pinout-skjemaet</strong></a></p>
<p>Fra skjemaet kan vi se at vi skal bruke pinne nummer <code>A1</code> for den blanke,<br/>rødt-lysende LED, og <code>A0</code> for den grønne LED. La oss definere to konstanter for<br/>dette i koden vår. Vi legger disse inn før <code>setup</code>-koden.</p>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED_RED   A1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED_GREEN A0</span>
</code></pre>
<p>Denne syntaksen som du ser i koden over har vi ikke brukt før. I motsetningen<br/>til å lage en variabel, deklarerer vi her to konstanter. Merk at vi gjerne<br/>bruker bare store bokstaver for konstanter. <em>Det kan også være fristende å bruke<br/>navn med norske tegn (f.eks. <code>LED_RØD</code>) her, men det er desverre ikke tillatt.<br/>Navn kan kun være små og store engelske bokstaver og siffrer.</em></p>
<h2 id="-setup-"><code>setup</code></h2>
<p>I setup koden vår, må vi nå fortelle Arduinoen at vi har lyst å bruke pinnene<br/>for LED-pærene. Kommandoen for dette er <code>pinMode</code>. Arduinoen har muligheten for<br/>å enten sende ut signaler, dvs. strøm, på en pinne, eller motta. Ved å bruke<br/>argumentet <code>OUTPUT</code> sier vi at vi ikke forventer å motta noe data på pinnen og<br/>bare skal sende strøm ut.</p>
<pre><code class="lang-cpp">  pinMode(LED_RED, OUTPUT);
  pinMode(LED_GREEN, OUTPUT);
</code></pre>
<p>Merk at dette ikke faktisk skrur på eller av strømmen til LED enda. Det bare<br/>setter opp Arduinoen slik at den vil kunne skru av og på strømmen med en senere<br/>kommando i <code>loop</code>. Vi ser også at vi har to instruksjoner her, én for hver<br/>pinne. Om bare skal bruke en LED ved en senere anledning, kunne du bare fjernet<br/>en av de to linjene. Vi kommer til å bruke begge LED i dette eksemplet, så vi må<br/>derfor sette opp begge pinnene.</p>
<h2 id="-loop-"><code>loop</code></h2>
<p>Ideen er at vi skal blinke avvekslende med den røde og grønne LED på air:bit.<br/>Før vi skriver noe kode, må vi først tenke over hvordan dette faktisk skjer<br/>steg for steg.</p>
<ol>
<li>Skru på rød LED</li>
<li>Vent i ett sekund</li>
<li>Skru av rød LED</li>
<li>Skru på grønn LED</li>
<li>Vent i ett sekund</li>
<li>Skru av grønn LED</li>
</ol>
<p>Fra <a href="Arduino-varianten-av-Hello-World.html"><em>Hello-World</em>-eksemplet</a> i guiden for generell<br/>Arduino-programmering, husker vi at kommandoen for å vente en viss tid er<br/><code>delay</code> som tar tiden den skal vente i millisekunder som argument.</p>
<pre><code class="lang-cpp">  delay(<span class="hljs-number">1000</span>); <span class="hljs-comment">// Wait for one second.</span>
</code></pre>
<p>Digitale signaler er signaler som kun har to mulige verdier: Av og På.<br/>Vi kan derfor tenke oss at å skru av og på strømmen til en LED er en form for et<br/>digitalt signal. La oss derfor bruke kommandoen <code>digitalWrite</code> for å skru av og<br/>på LEDene. Denne kommandoen tar pinnen den skal styre og verdien (Av eller På)<br/>som argument. Her bruker vi verdien <code>HIGH</code> for å skru på, og <code>LOW</code> for å skru<br/>av.</p>
<pre><code class="lang-cpp">  digitalWrite(LED_GREEN, HIGH); <span class="hljs-comment">// Turn on green LED.</span>
  digitalWrite(LED_RED, LOW); <span class="hljs-comment">// Turn off red LED.</span>
</code></pre>
<p>Prøv å oversett stegene vi skrev på norsk i opplistingen over, og skriv ned<br/>kommandoene i rett rekkefølge. Du kan gjerne leke litt her og se hva som skjer<br/>om du endrer rekkefølge eller vente-tid. Minker du f.eks. tallet i<br/><code>delay</code>-kommandoene, vil LEDene blinke fortere.</p>
<h2 id="ferdig">Ferdig</h2>
<p>Mye rart man kan gjøre med blinking og mange rare rytmer man kan få til her om<br/>man bare er litt kreativ. Men hvis vi tar utgangspunkt i den helt kjedelige<br/>blinkingen i ett sekund mellomrom, vi du få kode som likner på dette:</p>
<pre><code class="lang-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED_RED   A1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LED_GREEN A0</span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  pinMode(LED_RED, OUTPUT); <span class="hljs-comment">// Enable red LED control</span>
  pinMode(LED_GREEN, OUTPUT); <span class="hljs-comment">// Enable green LED control</span>
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
  digitalWrite(LED_RED, HIGH);
  delay(<span class="hljs-number">1000</span>);
  digitalWrite(LED_RED, LOW);
  digitalWrite(LED_GREEN, HIGH);
  delay(<span class="hljs-number">1000</span>);
  digitalWrite(LED_GREEN, LOW);
}
</code></pre>
<h2 id="g-videre">Gå videre</h2>
<p>&uarr; <a href="airbit-Programmering.html">Gå til <strong>innholdsfortegnelsen</strong></a><br/>&larr; <a href="airbit-Pinout.html">Gå tilbake forrige neste steg: <strong>Pinout</strong></a><br/>&rarr; <a href="Programmering-med-Temperatursensoren.html">Gå til neste steg: <strong>Temperatursensoren</strong></a>  </p>

                    </div>
                </div>
                <div class="col-xs-12 col-sm-3 col-sm-push-9 well">
                    <h1 id="meny">Meny</h1>
<ul>
<li><a href="Home.html">Hjem</a></li>
<li><a href="airbit-Guider.html">Guider</a><ul>
<li><a href="Guide-Bygging-og-Lodding.html">Bygging og Lodding</a></li>
<li><a href="Guide-Oppsett-for-programmering.html">Oppsett av programmvare</a></li>
<li><a href="Introduksjon-til-Arduino-programmering.html">Arduino programmering</a></li>
<li><a href="airbit-Programmering.html">air:bit programmering</a></li>
<li><a href="Feilsoking-av-programmeringsfeil.html">Feilsøking</a></li>
</ul>
</li>
<li><a href="airbit-Pinout.html">Pinout</a></li>
<li><a href="Dataformat.html">Dataformat</a><!--- [Tekniske Spesifikasjoner][tech]-->
</li>
</ul>

                </div>
            </div>
        </div>
    </div>
    <footer id="footer" class="footer"></footer>
</body>
</html>